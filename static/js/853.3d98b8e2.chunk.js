"use strict";(self.webpackChunkreact_training_1=self.webpackChunkreact_training_1||[]).push([[853],{8853:function(e,n,r){r.r(n),r.d(n,{default:function(){return b}});var s=r(2791),t=r(8687),i=r(8399),c=function(e){return e.chat.status},l=function(e){return e.chat.messages},a=r(9439),u=r(7128),o=r(4219),h=r(8686),d=r(9603),x=r(5),f=r(3649),j=r(9271),v=r(5466),p=r(184),g=function(){var e=(0,t.v9)(l),n=(0,s.useRef)(null),r=(0,s.useState)(!0),i=(0,a.Z)(r,2),c=i[0],u=i[1];return(0,s.useEffect)((function(){var e;c&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),e?(0,p.jsxs)("div",{style:{height:"600px",overflowY:"auto"},onScroll:function(e){var n=e.currentTarget;Math.abs(n.scrollHeight-n.scrollTop)-n.clientHeight<300?!c&&u(!0):c&&u(!1)},children:[e.map((function(e,n){return(0,p.jsx)(m,{message:e},e.id)})),(0,p.jsx)("div",{ref:n})]}):(0,p.jsx)(v.Z,{})},m=(0,s.memo)((function(e){var n=e.message,r=(0,j.k6)();return(0,p.jsxs)("div",{children:[(0,p.jsx)(u.Z,{}),(0,p.jsx)("a",{onClick:function(){r.push("/profile/".concat(n.userId))},children:(0,p.jsx)("img",{src:n.photo,width:"50px"})}),(0,p.jsx)("b",{children:n.userName}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:n.message})]})})),Z=function(){var e=(0,s.useState)(""),n=(0,a.Z)(e,2),r=n[0],l=n[1],u=(0,t.I0)(),j=(0,t.v9)(c),v=o.Z.TextArea;return(0,p.jsxs)("div",{children:[(0,p.jsxs)(h.Z,{style:{margin:"10px 0 0 0"},children:[(0,p.jsx)(d.Z,{span:6,children:(0,p.jsx)("div",{children:(0,p.jsx)(x.Z,{style:{width:"100%"},value:r,children:(0,p.jsx)(v,{placeholder:"input here",className:"custom",style:{height:70},onChange:function(e){return l(e.currentTarget.value)},allowClear:!0})})})}),(0,p.jsx)(d.Z,{span:18})]}),(0,p.jsxs)(h.Z,{style:{margin:"5px 0 0 0"},children:[(0,p.jsx)(d.Z,{span:6,children:(0,p.jsx)("div",{children:(0,p.jsx)(f.Z,{disabled:"ready"!==j,onClick:function(){r&&(u((0,i.CJ)(r)),l(""))},style:{float:"right"},children:"Send"})})}),(0,p.jsx)(d.Z,{span:18})]})]})},C=function(){var e=(0,t.I0)(),n=(0,t.v9)(c);return(0,s.useEffect)((function(){return e((0,i.CM)()),function(){e((0,i.tW)())}}),[]),(0,p.jsxs)("div",{children:["error"===n&&(0,p.jsx)("div",{children:"Some error occured. Please refresh the page"}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{}),(0,p.jsx)(Z,{})]})]})},b=function(){return(0,p.jsx)("div",{children:(0,p.jsx)(C,{})})}}}]);
//# sourceMappingURL=853.3d98b8e2.chunk.js.map